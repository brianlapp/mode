{
  "name": "mode-swarm-server",
  "version": "1.0.0",
  "description": "MCP server for Mode popup system swarm coordination and campaign management",
  "author": "Mode Team",
  "license": "MIT",
  "tools": [
    {
      "name": "check-swarm-status",
      "description": "Check the current status of all swarm agents and their progress",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "restore-campaigns",
      "description": "Restore campaign database with clean data (12 campaigns, no Prizies)",
      "parameters": {
        "type": "object",
        "properties": {
          "force": {
            "type": "boolean",
            "description": "Force restoration even if campaigns exist"
          }
        },
        "required": []
      }
    },
    {
      "name": "test-email-generation",
      "description": "Test email PNG generation with current font and image settings",
      "parameters": {
        "type": "object",
        "properties": {
          "property": {
            "type": "string",
            "enum": ["mff", "mmm"],
            "description": "Property to test (ModeFreeFinds or ModeMarketMunchies)"
          },
          "width": {
            "type": "integer",
            "default": 600,
            "description": "Image width"
          },
          "height": {
            "type": "integer",
            "default": 400,
            "description": "Image height"
          }
        },
        "required": ["property"]
      }
    },
    {
      "name": "diagnose-font-issues",
      "description": "Diagnose font loading issues on Railway deployment",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "test-campaign-images",
      "description": "Test all campaign image URLs and report status",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "deploy-agent-fixes",
      "description": "Deploy fixes from a specific swarm agent",
      "parameters": {
        "type": "object",
        "properties": {
          "agent": {
            "type": "string",
            "enum": ["font-fixer", "image-loader", "quality-assurance", "database-persistence"],
            "description": "Which agent's fixes to deploy"
          },
          "test_first": {
            "type": "boolean",
            "default": true,
            "description": "Run tests before deploying"
          }
        },
        "required": ["agent"]
      }
    },
    {
      "name": "coordinate-swarm-action",
      "description": "Coordinate an action across multiple swarm agents",
      "parameters": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "description": "Action to coordinate (e.g., 'deploy', 'test', 'rollback')"
          },
          "agents": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of agents to coordinate"
          }
        },
        "required": ["action", "agents"]
      }
    }
  ],
  "resources": [
    {
      "uri": "mode://swarm/status",
      "name": "Swarm Status",
      "description": "Real-time status of all swarm agents",
      "mimeType": "application/json"
    },
    {
      "uri": "mode://campaigns/data",
      "name": "Campaign Data",
      "description": "Current campaign database contents",
      "mimeType": "application/json"
    },
    {
      "uri": "mode://email/preview",
      "name": "Email Preview",
      "description": "Preview of generated email PNGs",
      "mimeType": "image/png"
    },
    {
      "uri": "mode://logs/coordination",
      "name": "Coordination Logs",
      "description": "Swarm coordination logs",
      "mimeType": "text/plain"
    }
  ],
  "configuration": {
    "railway_project": "mode-dash-production",
    "database_path": "/app/popup-system/api/popup_campaigns.db",
    "backup_path": "/app/popup-system/backups/",
    "api_base_url": "https://mode-dash-production.up.railway.app",
    "swarm_agents": {
      "font_fixer": {
        "handoff": "FONT_FIXER_AGENT_HANDOFF.md",
        "priority": 1
      },
      "image_loader": {
        "handoff": "IMAGE_LOADER_AGENT_HANDOFF.md",
        "priority": 2
      },
      "database_persistence": {
        "handoff": "DATABASE_PERSISTENCE_AGENT_HANDOFF.md",
        "priority": 1
      },
      "quality_assurance": {
        "handoff": "QUALITY_ASSURANCE_AGENT_HANDOFF.md",
        "priority": 3
      }
    }
  }
}
